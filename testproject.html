<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing!</title>
    <link rel="icon" type="image/x-icon" href="media/favicon.ico">

    <link rel="stylesheet" href="styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
</head>

<body>
<!-- Github Copilot to the rescue! (Javascript boilerplate by Github Copilot) -->
<script>
    async function loadYAML() {
        try {
            const response = await fetch('project.yaml');
            if (!response.ok) throw new Error('Failed to fetch YAML file');
            const data = jsyaml.load(await response.text());
            const project = data.projects['january-25'][0];

            document.querySelector('.name').textContent = `${project.name || 'Name not found'}`;
            document.querySelector('.language').textContent = `Language: ${project.language || 'Language not found'}`;
            document.querySelector('.description').textContent = `Description: ${project.description || 'Description not found'}`;
            document.querySelector('.subdomain-button').href = project.source || '#';
            document.querySelector('.project-image').src = project.image || '';
            document.querySelector('.demo-link').href = project.demo || '#';
        } catch (error) {
            console.error('Error loading YAML:', error);
        }
    }
    loadYAML();
</script>

<h1>This is a testing page to help me learn YAML and is not meant to be used/stable. <br>
    The plan is to eventually replace the large HTML content on the projects page that is tedious to maintain with a
    simpler interface using .yml .
</h1>

<br><br><br><br>
<hr style="width:20%; border-color: white; border-radius: 10px; border-style: dashed; border-width: 2px;">
<br><br><br><br>
</center>


<p5>
    <div class="name" style="padding-bottom: 0.5em" ></div>
    <div class="language"></div>
</p5>
<a href="#" class="demo-link">
    <img src="" alt="Project Image" class="project-image" style="float: right; width: 25%; height:25%;">
</a>
<p3>
    <a href="#" class="subdomain-button">View Source Code</a>
    <br>
    <div class="description"></div>
</p3>
<br><br><br><br><br>



<h1>New JS</h1>
<script>
    async function loadYAML() {
        try {
            const response = await fetch('project.yaml');
            if (!response.ok) throw new Error('Failed to fetch YAML file');
            const data = jsyaml.load(await response.text());

            const projects = data.projects;
            const container = document.body;

            Object.values(projects).forEach(projectList => {
                projectList.forEach(project => {
                    const section = document.createElement('section');
                    section.innerHTML = `
                        <p5 xmlns="http://www.w3.org/1999/html">
                        <div class="name" style="padding-bottom: 0.5em">${project.name || 'Name not found'}</div>

                        <div class="language">Language: ${project.language || 'Language not found'}</div>
                        </p5>
                        <a href="${project.demo || '#'}" class="demo-link">
                            <img src="${project.image || ''}" alt="Project Image" class="project-image" style="float: right; width: 25%; height: 25%;">
                        </a>
                        <p3>
                         <a href="${project.source || '#'}" class="subdomain-button" style="margin-bottom: 1em">View Source Code</a>
                        <div class="description" style="margin-bottom: 5em">${project.description || 'Description not found'}</div>
                        </p3>
                        <hr style="width:20%; border-color: white; border-radius: 10px; border-style: dashed; border-width: 2px; margin-bottom: 5em">
                    `;
                    container.appendChild(section);
                });
            });
        } catch (error) {
            console.error('Error loading YAML:', error);
        }
    }
    loadYAML();
</script>
</body>