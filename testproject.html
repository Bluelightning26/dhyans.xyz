<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing!</title>
    <link rel="icon" type="image/x-icon" href="media/favicon.ico">

    <link rel="stylesheet" href="styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
</head>

<body>
<!-- Github Copilot to the rescue! (Javascript boilerplate by Github Copilot) -->
<script>
    // Function to load and parse YAML, then update HTML
    async function loadYAML() {
        try {
            // Fetch the YAML file
            const response = await fetch('project.yaml');
            if (!response.ok) {
                throw new Error('Failed to fetch YAML file');
            }
            // Parse the YAML content
            const yamlText = await response.text();
            const data = jsyaml.load(yamlText);

            // Extract fields
            const project = data.projects['january-25'][0];
            const nameField = project.name || 'Name not found';
            const languageField = project.language || 'Language not found';
            const descriptionField = project.description || 'Description not found';
            const sourceField = project.source || '#';
            const imageField = project.image || '';
            const demoField = project.demo || '#';

            // Update HTML
            document.querySelector('.name').innerHTML = `Name: ${nameField}`;
            document.querySelector('.language').innerHTML = `Language: ${languageField}`;
            document.querySelector('.description').innerHTML = `Description: ${descriptionField}`;
            document.querySelector('.subdomain-button').setAttribute('href', sourceField);
            document.querySelector('.project-image').setAttribute('src', imageField);
            document.querySelector('.demo-link').setAttribute('href', demoField);
        } catch (error) {
            console.error('Error loading YAML:', error);
        }
    }
    loadYAML();
</script>

<h1>This is a testing page to help me learn YAML and is not meant to be used/stable. <br>
    The plan is to eventually replace the large HTML content on the projects page that is tedious to maintain with a
    simpler interface using .yml .
</h1>

<br><br><br><br>
<hr style="width:20%; border-color: white; border-radius: 10px; border-style: dashed; border-width: 2px;">
<br><br><br><br>
</center>


<p5>
    <div class="name"></div>
    <br><br>
    <div class="language"></div>
</p5>
<a href="#" class="demo-link">
    <img src="" alt="Project Image" class="project-image" style="float: right; width: 25%; height:25%;">
</a>
<p3>
    <a href="#" class="subdomain-button">View Source Code!?!</a>
    <br>
    <div class="description"></div>
</p3>
<br><br><br><br><br>

</body>